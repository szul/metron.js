var metron={};metron["class"]={extend:function(subClass,superClass){var Placeholder=function(){};Placeholder.prototype=superClass.prototype,subClass.prototype=new Placeholder,subClass.prototype.constructor=subClass,subClass.superclass=superClass.prototype,superClass.prototype.constructor==Object.prototype.constructor&&(superClass.prototype.constructor=superClass)},clone:function(obj){function Placeholder(){}return Placeholder.prototype=obj,new Placeholder},mixin:function(receivingObject,mixinObject){for(var method in mixinObject.prototype)mixin.prototype.hasOwnProperty(method)&&null!==mixinObject.prototype[method]&&"undefined"==typeof receivingObject.prototype[method]&&(receivingObject.prototype[method]=mixinObject.prototype[method])}},metron.dictionary=function(){function dictionary(obj){if(this.length=0,this.items={},null!==obj)for(var prop in obj)obj.hasOwnProperty(prop)&&(this.items[prop]=obj[prop],this.length++)}return dictionary.prototype.setItem=function(key,value){this.hasItem(key)||this.length++,this.items[key]=value},dictionary.prototype.getItem=function(key){return this.hasItem(key)?this.items[key]:null},dictionary.prototype.hasItem=function(key){return this.items.hasOwnProperty(key)},dictionary.prototype.removeItem=function(key){return this.hasItem(key)?(this.length--,delete this.items[key],1):0},dictionary.prototype.keys=function(){var keys=[];for(var k in this.items)this.hasItem(k)&&keys.push(k);return keys},dictionary.prototype.values=function(){var values=[];for(var k in this.items)this.hasItem(k)&&values.push(this.items[k]);return values},dictionary.prototype.each=function(f){var i=0;for(var key in this.items)f(key,this.items[key],i),i++},dictionary.prototype.clear=function(){this.items={},this.length=0},dictionary}(),metron.web=function(){function parseUrl(url,obj){var paramPairs=[];if(url.contains("?")){var parts=url.split("?");url=parts[0],paramPairs=paramPairs.concat(parts[1].split("&"))}for(var prop in obj)obj.hasOwnProperty(prop)&&!paramPairs.contains(prop,!0)?paramPairs.push(prop+"="+obj[prop]):obj.hasOwnProperty(prop)&&paramPairs.contains(prop,!0)&&(paramPairs[paramPairs.indexOfPartial(prop)]=prop+"="+obj[prop]);return url+"?"+paramPairs.join("&")}return{querystring:function(obj){if("undefined"!=typeof document){if("string"==typeof obj&&1===arguments.length){for(var match,result=[],re=new RegExp("(?:\\?|&)"+obj+"=(.*?)(?=&|$)","gi");null!==(match=re.exec(document.location.search));)result.push(match[1]);return result}return"string"==typeof obj&&arguments.length>1?[parseUrl(obj,arguments[1])]:[parseUrl(document.location.href,obj)]}throw"Error: No document object found. Environment may not contain a DOM."},querystringify:function(obj){return parseUrl("",obj)},cookie:{get:function(name){if("undefined"!=typeof document){for(var cookieParts=document.cookie.split(";"),i=0;i<cookieParts.length;i++){var cookieName=cookieParts[i].substr(0,cookieParts[i].indexOf("=")),cookieValue=cookieParts[i].substr(cookieParts[i].indexOf("=")+1);if(cookieName.trim()==name)return cookieValue}return null}throw"Error: No document object found. Environment may not contain a DOM."},set:function(name,val,date){if("undefined"==typeof document)throw"Error: No document object found. Environment may not contain a DOM.";var cookie=name+"="+val+';path="/"';"undefined"!=typeof date&&(cookie+=";expires="+date.toUTCString()),document.cookie=cookie},"delete":function(name){if("undefined"==typeof document)throw"Error: No document object found. Environment may not contain a DOM.";document.cookie=name+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}},headers:{get:function(name){if("undefined"!=typeof document){var request;return void 0!==name?(request=new XMLHttpRequest,request.open("HEAD",document.location.href,!1),request.send(null),request.getResponseHeader(name)):(request=new XMLHttpRequest,request.open("HEAD",document.location.href,!1),request.send(null),request.getAllResponseHeaders())}throw"Error: No document object found. Environment may not contain a DOM."}}}}(),metron.elements={textarea:{clean:function(elem){return elem.value.replace(/\r?\n/g,"\r\n")}}},metron.observer=function(){function setupInterval(pe){timer=setInterval(function(){pe.onTimer(pe)},1e3*frequency)}var frequency,timer;return{watch:function(callback,frequency){callback=callback,frequency=frequency,setupInterval(this)},stop:function(){timer&&(clearInterval(timer),timer=null)}}}(),metron.guid=function(){function generateGUIDPart(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return{newGuid:function(){return generateGUIDPart()+generateGUIDPart()+"-"+generateGUIDPart()+"-"+generateGUIDPart()+"-"+generateGUIDPart()+"-"+generateGUIDPart()+generateGUIDPart()+generateGUIDPart()}}}();var $m="undefined"==typeof $m?metron:$m,extend="undefined"==typeof extend?metron["class"].extend:extend,clone="undefined"==typeof clone?metron["class"].clone:clone,mixin="undefined"==typeof mixin?metron["class"].mixin:mixin,Guid="undefined"==typeof Guid?metron.guid:Guid,Dictionary="undefined"==typeof Dictionary?metron.dictionary:Dictionary;"undefined"!=typeof document&&"undefined"!=typeof document.location&&("undefined"==typeof document.location.querystring&&(document.location.querystring=metron.web.querystring),"undefined"==typeof document.location.headers&&(document.location.headers=metron.web.headers)),String.prototype.lower=function(){return this.toLowerCase()},String.prototype.upper=function(){return this.toUpperCase()},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},String.prototype.normalize=function(){return this.replace(/^\s*|\s(?=\s)|\s*$/g,"")},String.prototype.startsWith=function(part){return this.slice(0,part.length)==part},String.prototype.endsWith=function(part){return this.slice(-part.length)==part},String.prototype.capFirst=function(){if(1==this.length)return this.toUpperCase();if(this.length>0){var regex=/^(\(|\[|"|')/;return regex.test(this)?this.substring(0,2).toUpperCase()+this.substring(2):this.substring(0,1).toUpperCase()+this.substring(1)}return null},String.prototype.capWords=function(){var regexp=/\s/,words=this.split(regexp);if(1==words.length)return words[0].capFirst();if(words.length>1){for(var result="",i=0;i<words.length;i++)null!==words[i].capFirst()&&(result+=words[i].capFirst()+" ");return result.trim(),result}return null},String.prototype.truncateWords=function(number){var words=this.split(/\s+/);return words.length>number?words.slice(0,number).join(" "):words.join(" ")},String.prototype.truncateWordsWithHtml=function(number){for(var tags=[],truncation=this.truncateWords(number),matches=truncation.match(/<[\/]?([^> ]+)[^>]*>/g),i=0;i<matches.length;i++){var opening=matches[i].replace("/","");if(-1!=matches[i].indexOf("/")&&-1!=tags.indexOf(opening))tags.remove(opening);else{if(-1!=matches[i].indexOf("/"))continue;tags.push(matches[i])}}for(var j=0;j<tags.length;j++)truncation+=tags[j].replace("<","</").replace(/(\s*)(\w+)=("[^<>"]*"|'[^<>']*'|\w+)/g,"");return truncation},String.prototype.stripHtml=function(){var content=this.replace(/<[\/]?([^> ]+)[^>]*>/g,"");return content=content.replace(/<style[^>]*>[\s\S]*?<\/style>/gi,""),content=content.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,""),content=content.replace(/<!--[\s\S]*?-->/g,""),content=content.replace("&nbsp;"," "),content=content.replace("&amp;","&")},String.prototype.escapeHtml=function(){var content=this.replace(/"/g,"&quot;");return content.replace(/&(?!\w+;)/g,"&amp;"),content.replace(/>/g,"&gt;"),content.replace(/</g,"&lt;"),content},String.prototype.toBool=function(){return String.isNullOrEmpty(this)?!1:"true"===this.lower()||"1"===this.lower()||"y"===this.lower()||"t"===this.lower()},String.prototype.contains=function(val){return-1!==this.indexOf(val)},String.prototype.slugify=function(lower){return lower?this.lower().normalize().replace(/[^a-z0-9]/gi,"-"):this.normalize().replace(/[^a-z0-9]/gi,"-")},String.prototype.toPhoneNumber=function(){try{return this.substring(0,3)+"-"+this.substring(3,6)+"-"+this.substring(6)}catch(e){return this}},String.isNullOrEmpty=function(val){return void 0===val||null===val||""===val.trim()},Number.prototype.toBool=function(){return 0!==this},Number.prototype.random=function(min,max){if(isNaN(min)||isNaN(max))throw"Error: Only numbers are accepted as arguments.";return Math.floor(Math.random()*(parseInt(max,10)-parseInt(min,10)+1)+parseInt(min,10))},Array.prototype.empty=function(){return this.splice(0,this.length)},Array.prototype.isEmpty=function(){return 0===this.length},Array.prototype.each=function(callback){for(var i=0;i<this.length;i++)callback(this[i],i)},Array.prototype.remove=function(item){var index=this.indexOf(item);-1!=index&&this.splice(index,1)},Array.prototype.contains=function(partial,strict){for(var i=0;i<this.length;i++){if(!strict&&this[i].contains(partial))return!0;if(strict&&this[i]===partial)return!0}return!1},Array.prototype.indexOfPartial=function(partial){for(var i=0;i<this.length;i++)if(this[i].contains(partial))return i;return-1},Array.prototype.toObjectArray=function(objName){if(void 0===objName||null===objName)throw"Error: Property name must be provided for conversion.";var items=this;if("string"==typeof items[0]||"number"==typeof items[0]||"boolean"==typeof items[0]){for(var i=0;i<items.length;i++){var val=items[i];items[i]={},items[i][objName]=val}return items}return this},Object.isEmpty=function(obj){return 0===Object.getOwnPropertyNames(obj).length},Object.getName=function(){var regex=/function (.{1,})\(/,results=regex.exec(this.constructor.toString());return results&&results.length>1?results[1]:""};
//# sourceMappingURL=metron.min.js.map